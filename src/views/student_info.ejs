<html lang="en">
<head>
 <meta charset="UTF-8">
 <script src="https://kit.fontawesome.com/7286f6060f.js" crossorigin="anonymous"></script>
 <meta name="viewport" content="width=device-width, initial-scale=1.0">
 <link rel="stylesheet" href="style.css">
</head>
<body>
<nav class="mouseM">
    <ul class="header">
        <li><a>THE THINKING SPACE</a></li>
        <li class="home" style="float: right;"><a href="/"><i class="fa-solid fa-house"></i></a></li>
    </ul>
   </nav>

<div class="container si-container mouseM" style="width: 90%; display: flex; flex-direction: column; justify-content: center; align-items: center;">
        <h2 class = "colouredText" style="padding: 10px; margin: 20px;">Students</h2>
        <!-- <p class="bodyText">____</p> -->
        <div class="table-container">
          <table id="students">
              <thead>
                  <tr>
                      <th>Name</th>
                      <th>Mood result</th>
                      <th>When</th>
                  </tr>
              </thead>
              <tbody>
                <% if (students.length === 0) { %>
                  <tr>
                      <td colspan="3" style="text-align: center; padding: 20px; font-style: italic; color: gray;">
                          No information yet
                      </td>
                  </tr>
                <% } else { %>
                  <% students.forEach(student => { %>
                      <tr class="clickable-row">
                          <td><%= student.name %></td>
                          <td><%= student.umood %></td>
                          <td><%= student.utimestamp %></td>
                      </tr>
                  <% }) %>
                <% } %>
              </tbody>
          </table>
      </div>

      <!-- Scroll Buttons -->
      <button id="scrollUp"><i class="fa-solid fa-chevron-up"></i></button>
      <button id="scrollDown"><i class="fa-solid fa-chevron-down"></i></button>

</div>
  
    <footer class="footer si-footer">
        <img class="logo" src="images/logo.png" alt="Raymer Enterprises Ltd" width="212" height="104">
        <span class="motto mouseM">With emotional health in mind</span>
      </footer>

</body>
<script>

  document.addEventListener("DOMContentLoaded", function () {
    const tableContainer = document.querySelector(".table-container");
    const scrollUp = document.getElementById("scrollUp");
    const scrollDown = document.getElementById("scrollDown");
    
    function updateScrollButtons() {
        scrollUp.style.display = tableContainer.scrollTop > 0 ? "block" : "none";
        scrollDown.style.display = (tableContainer.scrollHeight - tableContainer.clientHeight) > tableContainer.scrollTop ? "block" : "none";
    }

    scrollUp.addEventListener("click", () => {
        tableContainer.scrollBy({ top: -100, behavior: "smooth" });
    });

    scrollDown.addEventListener("click", () => {
        tableContainer.scrollBy({ top: 100, behavior: "smooth" });
    });

    tableContainer.addEventListener("scroll", updateScrollButtons);
    updateScrollButtons();

    // Make table rows clickable
    document.querySelectorAll(".clickable-row").forEach(row => {
        row.addEventListener("click", function () {
            alert(`You clicked on ${this.cells[0].innerText}`);
        });
    });
  });
</script>
<style>
  body {
    font-family: Arial, sans-serif;
}

.table-container {
    width: 90%;
    border: 3px solid #ddd;
    border-radius: 15px;
    max-height: 300px; /* Set max height for scrolling */
    overflow: hidden;
    position: relative;
}

#students {
    width: 100%;
    border-collapse: collapse;
}

#students th, #students td {
    border: 1px solid #ddd;
    padding: 10px;
    text-align: left;
}

.clickable-row {
    cursor: pointer;
    transition: background 0.3s;
}

.clickable-row:hover {
    background-color: #f5f5f5;
}

button {
    display: block;
    margin: 10px auto;
    padding: 10px 15px;
    border: none;
    background: #333;
    color: white;
    cursor: pointer;
    border-radius: 5px;
}

button:hover {
    background: #555;
}

#scrollUp, #scrollDown {
    position: absolute;
    left: 50%;
    transform: translateX(-50%);
    width: 40px;
    height: 40px;
    background: #007bff;
    border: none;
    color: white;
    font-size: 20px;
    border-radius: 50%;
    cursor: pointer;
    display: none;
}

#scrollUp { top: -50px; }
#scrollDown { bottom: -50px; }

#scrollUp:hover, #scrollDown:hover {
    background: #0056b3;
}

</style>
</html>
