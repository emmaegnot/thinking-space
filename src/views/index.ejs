<html lang="en">
<%- include('partials/head') %>
 <nav class="mouseM">
  <ul class="header">
   <li><a>THE THINKING SPACE</a></li>
   <li class="home" style="float: right;"><a href="/"><i class="fa-solid fa-house"></i></a></li>
  </ul>
 </nav>
 <body>
<div class="index-container mouseM">
<h1 class="h1">I am a...</h1>
  <div class="flex-container">
        <button id="student" class="button" onClick="window.location.href='/choose_shape'">Student</button>
      <i class="fa-solid fa-person student"></i>
  </div>
  <div class="flex-container">
        <button class="button" onclick="ShowMessage()">Teacher</button>
        <div id="message" class="hidden">Coming soon...</div>
      <i class="fa-solid fa-person teacher"></i>
  </div>
 </div>
 <div id="overlay"></div>
 <% if (showConsentPopup) { %>
  <div id="cookiePopup" class="index-container mouseM">
    <h2>Cookie Consent</h2>
    <p>We use cookies to enhance your experience. Do you accept?</p>
    <button id="accept">Accept</button>
  </div>
<% } %>
<footer class="index-footer">
  <img class="logo" src="images/logo.png" alt="Raymer Enterprises Ltd" height="60px" width="120px">
  <span class="motto mouseM">With emotional health in mind</span>
</footer>
  <style>
    #message {
        background-color: #f8d7da; 
        color: #721c24; 
        padding: 20px 30px;
        border-radius: 30px;
        margin-top: 20px;
        left: -97px;
        top: 83px;
        display: none; /* Initially hidden */
        transition: opacity 0.3s ease-in-out;
        position: absolute;
        font-size: 20;
        border: 1px solid black;
    }
    #message::before {
        content: "";
        position: absolute;
        bottom: -1px; 
        right: -1px; 
        width: 0;
        height: 0;
        border-left: 28px solid transparent;
        border-right: 28px solid black; 
        border-top: 28px solid transparent;
    }
    #message::after {
        content: "";
        position: absolute;
        bottom: 0px; 
        right: 0px; 
        width: 0;
        height: 0;
        border-left: 27px solid transparent;
        border-right: 27px solid #f8d7da; 
        border-top: 27px solid transparent;
    }

    #cookiePopup {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 300px;
        background: white;
        padding: 20px;
        border-radius: 10px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
        display: none; 
        text-align: center;
     }

        
    #overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.5);
        display: none; 
    }
        
        
    #accept {
        background: #28a745;
        color: white;
        padding: 10px 20px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
    }

    #accept:hover {
        background: #218838;
    }
  </style>
  <script>
    const showPopup = <%= showConsentPopup %>;
    window.onload = function () {
      sessionStorage.clear();
      console.log("Session storage cleared on page load.");
      if (showPopup) {
        document.getElementById("cookiePopup").style.display = "block";
        document.getElementById("overlay").style.display = "block";
      }

    // Handle the accept button
      document.getElementById("accept").onclick = function() {
          document.cookie = "consent=true; path=/; max-age=" + 60 * 60 * 6; // 6 hours
          document.getElementById("cookiePopup").style.display = "none";
          document.getElementById("overlay").style.display = "none";
      }; 
    };

    function ShowMessage(){
      var msg = document.getElementById("message")
      msg.style.display = "block";
      msg.style.opacity = "1";
      setTimeout(() => {
          msg.style.opacity = "0";
          setTimeout(() => msg.style.display = "none", 300);
      }, 3000);}


    
    
    
  
  </script>
</body>
</html>
